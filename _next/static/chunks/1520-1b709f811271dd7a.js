(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1520],{27484:function(e){var t,r,n,a,o,i,s,l,c,u,d,h,f,g,p,y,m,$,b,v,S;e.exports=(t="millisecond",r="second",n="minute",a="hour",o="week",i="month",s="quarter",l="year",c="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},(p={})[g="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}},y=function(e){return e instanceof v},m=function e(t,r,n){var a;if(!t)return g;if("string"==typeof t){var o=t.toLowerCase();p[o]&&(a=o),r&&(p[o]=r,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var s=t.name;p[s]=t,a=s}return!n&&a&&(g=a),a||!n&&g},$=function(e,t){if(y(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new v(r)},(b={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,i),o=r-a<0,s=t.clone().add(n+(o?-1:1),i);return+(-(n+(r-a)/(o?a-s:s-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:i,y:l,w:o,d:"day",D:c,h:a,m:n,s:r,ms:t,Q:s})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=m,b.i=y,b.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},S=(v=function(){function e(e){this.$L=m(e.locale,null,!0),this.parse(e)}var f=e.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var a=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return this.$d.toString()!==u},f.isSame=function(e,t){var r=$(e);return this.startOf(t)<=r&&r<=this.endOf(t)},f.isAfter=function(e,t){return $(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<$(e)},f.$g=function(e,t,r){return b.u(e)?this[t]:this.set(r,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var s=this,u=!!b.u(t)||t,d=b.p(e),h=function(e,t){var r=b.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return u?r:r.endOf("day")},f=function(e,t){return b.w(s.toDate()[e].apply(s.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},g=this.$W,p=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case l:return u?h(1,0):h(31,11);case i:return u?h(1,p):h(0,p+1);case o:var $=this.$locale().weekStart||0,v=(g<$?g+7:g)-$;return h(u?y-v:y+(6-v),p);case"day":case c:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case n:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,o){var s,u=b.p(e),d="set"+(this.$u?"UTC":""),h=((s={}).day=d+"Date",s[c]=d+"Date",s[i]=d+"Month",s[l]=d+"FullYear",s[a]=d+"Hours",s[n]=d+"Minutes",s[r]=d+"Seconds",s[t]=d+"Milliseconds",s)[u],f="day"===u?this.$D+(o-this.$W):o;if(u===i||u===l){var g=this.clone().set(c,1);g.$d[h](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[b.p(e)]()},f.add=function(e,t){var s,c=this;e=Number(e);var u=b.p(t),d=function(t){var r=$(c);return b.w(r.date(r.date()+Math.round(t*e)),c)};if(u===i)return this.set(i,this.$M+e);if(u===l)return this.set(l,this.$y+e);if("day"===u)return d(1);if(u===o)return d(7);var h=((s={})[n]=6e4,s[a]=36e5,s[r]=1e3,s)[u]||1,f=this.$d.getTime()+e*h;return b.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||u;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=b.z(this),o=this.$H,i=this.$m,s=this.$M,l=r.weekdays,c=r.months,d=function(e,r,a,o){return e&&(e[r]||e(t,n))||a[r].slice(0,o)},f=function(e){return b.s(o%12||12,e,"0")},g=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:d(r.monthsShort,s,c,3),MMMM:d(c,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(r.weekdaysMin,this.$W,l,2),ddd:d(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:b.s(o,2,"0"),h:f(1),hh:f(2),a:g(o,i,!0),A:g(o,i,!1),m:String(i),mm:b.s(i,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:a};return n.replace(h,function(e,t){return t||p[e]||a.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,t,c){var u,d=b.p(t),h=$(e),f=(h.utcOffset()-this.utcOffset())*6e4,g=this-h,p=b.m(this,h);return p=((u={})[l]=p/12,u[i]=p,u[s]=p/3,u[o]=(g-f)/6048e5,u.day=(g-f)/864e5,u[a]=g/36e5,u[n]=g/6e4,u[r]=g/1e3,u)[d]||g,c?p:b.a(p)},f.daysInMonth=function(){return this.endOf(i).$D},f.$locale=function(){return p[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=m(e,t,!0);return n&&(r.$L=n),r},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},e}()).prototype,$.prototype=S,[["$ms",t],["$s",r],["$m",n],["$H",a],["$W","day"],["$M",i],["$y",l],["$D",c]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),$.extend=function(e,t){return e.$i||(e(t,v,$),e.$i=!0),$},$.locale=m,$.isDayjs=y,$.unix=function(e){return $(1e3*e)},$.en=p[g],$.Ls=p,$.p={},$)},39960:function(e,t,r){"use strict";var n=r(54689);let a=(e,t,r)=>{n.Z[e]({message:t,description:r})};t.Z=a},81520:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return et}});var n=r(85893),a=r(15746),o=r(67294),i=r(23681),s=r(11768),l=r(27484),c=r.n(l),u=r(11163),d=r(81921),h=r(53714),f=r(71230),g=r(97937),p=r(94184),y=r.n(p),m=r(53124),$=r(98787),b=r(45353),v=r(67968),S=r(45503),w=r(63443),C=r(14747);let D=(e,t,r)=>{let n=function(e){if("string"!=typeof e)return e;let t=e.charAt(0).toUpperCase()+e.slice(1);return t}(r);return{[`${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`]}}},x=e=>(0,w.j)(e,(t,r)=>{let{textColor:n,lightBorderColor:a,lightColor:o,darkColor:i}=r;return{[`${e.componentCls}-${t}`]:{color:n,background:o,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i}}}}),M=e=>{let{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:n,componentCls:a}=e,o=n-r;return{[a]:Object.assign(Object.assign({},(0,C.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${a}-close-icon`]:{marginInlineStart:t-r,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}})}};var k=(0,v.Z)("Tag",e=>{let{fontSize:t,lineHeight:r,lineWidth:n,fontSizeIcon:a}=e,o=e.fontSizeSM,i=e.colorFillAlter,s=e.colorText,l=(0,S.TS)(e,{tagFontSize:o,tagLineHeight:Math.round(t*r)-2*n,tagDefaultBg:i,tagDefaultColor:s,tagIconSize:a-2*n,tagPaddingHorizontal:8});return[M(l),x(l),D(l,"success","Success"),D(l,"processing","Info"),D(l,"error","Error"),D(l,"warning","Warning")]}),O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let _=e=>{var{prefixCls:t,className:r,checked:n,onChange:a,onClick:i}=e,s=O(e,["prefixCls","className","checked","onChange","onClick"]);let{getPrefixCls:l}=o.useContext(m.E_),c=e=>{null==a||a(!n),null==i||i(e)},u=l("tag",t),[d,h]=k(u),f=y()(u,{[`${u}-checkable`]:!0,[`${u}-checkable-checked`]:n},r,h);return d(o.createElement("span",Object.assign({},s,{className:f,onClick:c})))};var j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let L=(e,t)=>{var{prefixCls:r,className:n,rootClassName:a,style:i,children:s,icon:l,color:c,onClose:u,closeIcon:d,closable:h=!1}=e,f=j(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable"]);let{getPrefixCls:p,direction:v}=o.useContext(m.E_),[S,w]=o.useState(!0);o.useEffect(()=>{"visible"in f&&w(f.visible)},[f.visible]);let C=(0,$.o2)(c)||(0,$.yT)(c),D=Object.assign({backgroundColor:c&&!C?c:void 0},i),x=p("tag",r),[M,O]=k(x),_=y()(x,{[`${x}-${c}`]:C,[`${x}-has-color`]:c&&!C,[`${x}-hidden`]:!S,[`${x}-rtl`]:"rtl"===v},n,a,O),L=e=>{e.stopPropagation(),null==u||u(e),e.defaultPrevented||w(!1)},T="function"==typeof f.onClick||s&&"a"===s.type,E=l||null,Z=E?o.createElement(o.Fragment,null,E,o.createElement("span",null,s)):s,P=o.createElement("span",Object.assign({},f,{ref:t,className:_,style:D}),Z,h?d?o.createElement("span",{className:`${x}-close-icon`,onClick:L},d):o.createElement(g.Z,{className:`${x}-close-icon`,onClick:L}):null);return M(T?o.createElement(b.Z,null,P):P)},T=o.forwardRef(L);T.CheckableTag=_;var E=r(46409),Z=r(71577),P=r(80882),N=r(19996),I=r(25675),A=r.n(I),H=r(37744),F=r(26743),W=r(75884),z=r(4480);let V=(0,z.cn)({key:"geoDataState",default:null}),Y=(0,z.cn)({key:"defaultValueState",default:null}),B=e=>{var t,i,l;let[c,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!0),[g,p]=(0,o.useState)([]),[y,m]=(0,o.useState)({LocateMeButtonLabel:"Locate Me",LocationText:"Location",LocationDropdown:"Choose your location",searchbox:"Select to search"}),[$,b]=(0,z.FV)(V),[v,S]=(0,z.FV)(Y);(0,o.useEffect)(()=>(D(),window.addEventListener("resize",w),w(),()=>{window.removeEventListener("resize",w)}),[]);let w=()=>{u(window.innerWidth>864)},C=async(e,t)=>{let r=s.ZP.load("geoData");r?(p(e),h(!1),m(t),S(r.suburb+", "+r.state+", "+r.postcode)):(p(e),h(!1),m(t))},D=async()=>{let t=await e.languageHelper.translation("AddressDropdown"),n=await r.e(4503).then(r.t.bind(r,34503,19)),a=[];for(let e=0;e<n.length;e++){let t=n[e];t.value=t.postcode+"//"+t.suburb+"//"+t.latitude+"//"+t.longitude+"//"+t.state,t.label=t.suburb+", "+t.state+", "+t.postcode,a.push(t)}let o=await (0,W.b)();if(o&&o.emailVerified)try{let e=await (0,H.xK)("users/".concat(o.uid)),r=(0,F.w)(e.geoData);p(a),h(!1),m(t),S(r.suburb+", "+r.state+", "+r.postcode)}catch(e){console.error("Operation failed:",e),C(a,t)}else C(a,t)},x=t=>{let r=t.split("//");S({postcode:r[0],suburb:r[1],latitude:r[2],longitude:r[3],state:r[4]}),e.handleAddressCallBack(r)},M=()=>{e.handleLocateMeCallBack()};return(0,n.jsx)(f.Z,{style:{width:"100%",marginTop:c?"1%":"3%",marginBottom:c?"1%":"3%"},children:d?(0,n.jsx)(N.Z,{}):(0,n.jsxs)(f.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,n.jsx)(a.Z,{span:4,children:(0,n.jsx)(T,{style:{width:"98%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000000",backgroundColor:"#ffffff",borderRadius:"6px",fontSize:"smaller",fontWeight:"bold",height:"100%"},children:y.LocationText})}),(0,n.jsx)(a.Z,{span:18,style:{textAlign:"center"},children:(0,n.jsx)(E.Z,{suffixIcon:(0,n.jsx)(P.Z,{}),showSearch:!0,style:{width:"100%"},defaultValue:v,placeholder:y.searchbox,optionFilterProp:"children",filterOption:(e,r)=>(null!==(t=null==r?void 0:r.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase()),filterSort:(e,t)=>(null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"").toLowerCase().localeCompare((null!==(l=null==t?void 0:t.label)&&void 0!==l?l:"").toLowerCase()),options:g,onChange:x.bind(void 0)})}),(0,n.jsx)(a.Z,{span:2,style:{textAlign:"center"},children:(0,n.jsx)(Z.ZP,{style:{margin:"auto",width:"90%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},onClick:M.bind(void 0),children:c?(0,n.jsx)("p",{children:y.LocateMeButtonLabel}):(0,n.jsx)(A(),{src:"/USYD_Capstone_Project_CS01/icons/maps-and-flags.png",alt:"",width:15,height:15})})})]})})};var U=(0,u.withRouter)((0,d.O)(B)),J=r(40092),R=r(39960),q=r(75109),G=r(4175),K=r(93096),Q=r(56886);let X=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ee=e=>{let[t,r]=(0,z.FV)(Q.eY),{isPublicDisplay:l,publicDisplayGeoData:u,languageHelper:d,getHssDataCallBack:f}=e,[g,p]=(0,o.useState)(!1),[y,m]=(0,o.useState)(!1),[$,b]=(0,o.useState)([]),[v,S]=(0,o.useState)("Parramatta Westfield, NSW, 2150"),[w,C]=(0,o.useState)(0),[D,x]=(0,o.useState)([]),[M,k]=(0,o.useState)([]),[O,_]=(0,o.useState)("LineChart"),[j,L]=(0,o.useState)(0),[T,E]=(0,o.useState)([]),[Z,P]=(0,o.useState)([]),[I,A]=(0,o.useState)([]),[V,Y]=(0,o.useState)([]),[B,ee]=(0,o.useState)({}),[et,er]=(0,o.useState)({}),[en,ea]=(0,z.FV)(K._),eo=(0,G.Z)(d,"HomePage"),ei=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=c()().add(e,"day");return[t.day(),t.format("DD/MM")]},[]),es=(0,o.useCallback)(()=>{let e=[1,2,3].map(e=>{let[t,r]=ei(e);return{label:X[t],date:r}}),t=c()().hour();C(23==t?0:t),x(e)},[]),el=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(Object.keys(e).length<=0)return null;let t=await (0,q.ss)(e,w,eo);console.log("assdf",t);let{dataForPublicDisplay:r,currentRiskValue:n,data:a,maxLevelForecast:o,now:i,max:s,portialNow:c,portialMax:u}=t||{};l&&f({dataForPublicDisplay:r,hour:w});let{suburb:d,state:h,postcode:g}=e;S("".concat(d,", ").concat(h,", ").concat(g)),ee(e),L(n),b(a),k(o),P(s),E(i),A(c),Y(u),er(r)}catch(e){console.log("loadData err",e)}finally{p(!1)}},[w,eo,f,l]),ec=(0,o.useCallback)(()=>{let e=s.ZP.load("geoData");if(e){let{latitude:t,longitude:r}=e,n=(0,h.E)(t,r);ea({latitude:t,longitude:r,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:n})}else e={...en};el(e)},[]),eu=(0,o.useCallback)(async()=>{p(!0);try{let e=await (0,W.b)();if(e&&e.emailVerified)try{console.log("uuu",e);let t=await (0,H.xK)("users/".concat(e.uid)),r=(0,F.w)(t.geoData),n=(0,h.E)(r.latitude,r.longitude);ea({latitude:r.latitude,longitude:r.longitude,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:n}),await el(r)}catch(e){console.error("Get user geo data from firebase operation failed:",e),await ec()}else await ec()}catch(e){console.log("loadData err",e)}},[ec,el]);(0,o.useEffect)(()=>{es(),eu(),r(!1)},[t]);let ed=(0,o.useCallback)(async()=>{p(!0),m(!0);let e=e=>{p(!1),m(!1);let t="There was an error getting your location.";switch(e.code){case e.PERMISSION_DENIED:t="Location permission was denied.";break;case e.POSITION_UNAVAILABLE:t="Location information is unavailable.";break;case e.TIMEOUT:t="The request to get user location timed out.";break;default:t="An unknown error occurred."}(0,R.Z)("error","Location Error",t)};navigator.geolocation.getCurrentPosition(async e=>{let t=e.coords.latitude,r=e.coords.longitude;try{let e=await (0,h.a)(t,r);if(e){let{postcode:n,suburb:a,state:o}=e,i={postcode:n,suburb:a,latitude:t,longitude:r,state:o},l=await (0,W.b)();S("".concat(a,", ").concat(o,", ").concat(n));let c=(0,h.E)(t,r);if(ea({latitude:t,longitude:r,suburb:a,postcode:n,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:c}),l&&l.emailVerified)try{await (0,H.pN)("users/".concat(l.uid),{geoData:i})}catch(e){s.ZP.save("geoData",JSON.stringify(i))}else s.ZP.save("geoData",JSON.stringify(i));eu()}else(0,R.Z)("error","Location Error","Unable to get your location.")}catch(e){(0,R.Z)("error","Geocoding Error","Failed to reverse geocode your location.")}p(!1),m(!1)},e)},[p,m,R.Z,eu]),eh=(0,o.useCallback)((e,t,r,n)=>{let[a,o,i,s,l]=e||[];ea({latitude:i,longitude:s,suburb:o,postcode:a,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:(0,h.E)(i,s)}),eu()},[]),ef=(0,o.useCallback)(async e=>{let[t,r,n,a,o]=e||[],i={postcode:t,suburb:r,latitude:n,longitude:a,state:o},l=await (0,W.b)();if(l&&l.emailVerified)try{await (0,H.pN)("users/".concat(l.uid),{geoData:i})}catch(e){s.ZP.save("geoData",JSON.stringify(i))}else s.ZP.save("geoData",JSON.stringify(i));eh(e)},[]),eg=(0,o.useMemo)(()=>y||g?(0,n.jsx)(N.Z,{}):(0,n.jsx)(U,{handleLocateMeCallBack:ed,handleAddressCallBack:ef,defaultValue:v,geoData:B}),[y,B,g,v]);return(0,n.jsx)("div",{children:(0,n.jsx)(i.default,{children:(0,n.jsxs)(a.Z,{children:[l?null:eg,y||g?(0,n.jsx)(N.Z,{}):(0,n.jsx)(J.Z,{isPublicDisplay:l,maxLevelForecast:M,currentRiskValue:j,data:$,loading:g,forcasts:D,chartType:O,legendNow:T,legendMax:Z,portialLegendNow:I,portialLegendMax:V,dataForPublicDisplay:et})]})})})};var et=(0,u.withRouter)((0,d.O)(ee))}}]);