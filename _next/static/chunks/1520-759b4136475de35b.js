(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1520],{27484:function(e){var t,n,r,a,o,i,s,l,c,u,d,h,f,g,p,y,m,$,b,v,S;e.exports=(t="millisecond",n="second",r="minute",a="hour",o="week",i="month",s="quarter",l="year",c="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},(p={})[g="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||"th")+"]"}},y=function(e){return e instanceof v},m=function e(t,n,r){var a;if(!t)return g;if("string"==typeof t){var o=t.toLowerCase();p[o]&&(a=o),n&&(p[o]=n,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var s=t.name;p[s]=t,a=s}return!r&&a&&(g=a),a||!r&&g},$=function(e,t){if(y(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new v(n)},(b={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,i),o=n-a<0,s=t.clone().add(r+(o?-1:1),i);return+(-(r+(n-a)/(o?a-s:s-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:i,y:l,w:o,d:"day",D:c,h:a,m:r,s:n,ms:t,Q:s})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=m,b.i=y,b.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},S=(v=function(){function e(e){this.$L=m(e.locale,null,!0),this.parse(e)}var f=e.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return this.$d.toString()!==u},f.isSame=function(e,t){var n=$(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return $(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<$(e)},f.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var s=this,u=!!b.u(t)||t,d=b.p(e),h=function(e,t){var n=b.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return u?n:n.endOf("day")},f=function(e,t){return b.w(s.toDate()[e].apply(s.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},g=this.$W,p=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case l:return u?h(1,0):h(31,11);case i:return u?h(1,p):h(0,p+1);case o:var $=this.$locale().weekStart||0,v=(g<$?g+7:g)-$;return h(u?y-v:y+(6-v),p);case"day":case c:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case r:return f(m+"Seconds",2);case n:return f(m+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,o){var s,u=b.p(e),d="set"+(this.$u?"UTC":""),h=((s={}).day=d+"Date",s[c]=d+"Date",s[i]=d+"Month",s[l]=d+"FullYear",s[a]=d+"Hours",s[r]=d+"Minutes",s[n]=d+"Seconds",s[t]=d+"Milliseconds",s)[u],f="day"===u?this.$D+(o-this.$W):o;if(u===i||u===l){var g=this.clone().set(c,1);g.$d[h](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[b.p(e)]()},f.add=function(e,t){var s,c=this;e=Number(e);var u=b.p(t),d=function(t){var n=$(c);return b.w(n.date(n.date()+Math.round(t*e)),c)};if(u===i)return this.set(i,this.$M+e);if(u===l)return this.set(l,this.$y+e);if("day"===u)return d(1);if(u===o)return d(7);var h=((s={})[r]=6e4,s[a]=36e5,s[n]=1e3,s)[u]||1,f=this.$d.getTime()+e*h;return b.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=b.z(this),o=this.$H,i=this.$m,s=this.$M,l=n.weekdays,c=n.months,d=function(e,n,a,o){return e&&(e[n]||e(t,r))||a[n].slice(0,o)},f=function(e){return b.s(o%12||12,e,"0")},g=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:d(n.monthsShort,s,c,3),MMMM:d(c,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,l,2),ddd:d(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:b.s(o,2,"0"),h:f(1),hh:f(2),a:g(o,i,!0),A:g(o,i,!1),m:String(i),mm:b.s(i,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:a};return r.replace(h,function(e,t){return t||p[e]||a.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,t,c){var u,d=b.p(t),h=$(e),f=(h.utcOffset()-this.utcOffset())*6e4,g=this-h,p=b.m(this,h);return p=((u={})[l]=p/12,u[i]=p,u[s]=p/3,u[o]=(g-f)/6048e5,u.day=(g-f)/864e5,u[a]=g/36e5,u[r]=g/6e4,u[n]=g/1e3,u)[d]||g,c?p:b.a(p)},f.daysInMonth=function(){return this.endOf(i).$D},f.$locale=function(){return p[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=m(e,t,!0);return r&&(n.$L=r),n},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},e}()).prototype,$.prototype=S,[["$ms",t],["$s",n],["$m",r],["$H",a],["$W","day"],["$M",i],["$y",l],["$D",c]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),$.extend=function(e,t){return e.$i||(e(t,v,$),e.$i=!0),$},$.locale=m,$.isDayjs=y,$.unix=function(e){return $(1e3*e)},$.en=p[g],$.Ls=p,$.p={},$)},39960:function(e,t,n){"use strict";var r=n(54689);let a=(e,t,n)=>{r.Z[e]({message:t,description:n})};t.Z=a},81520:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var r=n(85893),a=n(15746),o=n(67294),i=n(23681),s=n(11768),l=n(27484),c=n.n(l),u=n(11163),d=n(81921),h=n(53714),f=n(71230),g=n(97937),p=n(94184),y=n.n(p),m=n(53124),$=n(98787),b=n(45353),v=n(67968),S=n(45503),w=n(63443),C=n(14747);let D=(e,t,n)=>{let r=function(e){if("string"!=typeof e)return e;let t=e.charAt(0).toUpperCase()+e.slice(1);return t}(n);return{[`${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},x=e=>(0,w.j)(e,(t,n)=>{let{textColor:r,lightBorderColor:a,lightColor:o,darkColor:i}=n;return{[`${e.componentCls}-${t}`]:{color:r,background:o,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i}}}}),M=e=>{let{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:a}=e,o=r-n;return{[a]:Object.assign(Object.assign({},(0,C.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${a}-close-icon`]:{marginInlineStart:t-n,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}})}};var k=(0,v.Z)("Tag",e=>{let{fontSize:t,lineHeight:n,lineWidth:r,fontSizeIcon:a}=e,o=e.fontSizeSM,i=e.colorFillAlter,s=e.colorText,l=(0,S.TS)(e,{tagFontSize:o,tagLineHeight:Math.round(t*n)-2*r,tagDefaultBg:i,tagDefaultColor:s,tagIconSize:a-2*r,tagPaddingHorizontal:8});return[M(l),x(l),D(l,"success","Success"),D(l,"processing","Info"),D(l,"error","Error"),D(l,"warning","Warning")]}),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let j=e=>{var{prefixCls:t,className:n,checked:r,onChange:a,onClick:i}=e,s=O(e,["prefixCls","className","checked","onChange","onClick"]);let{getPrefixCls:l}=o.useContext(m.E_),c=e=>{null==a||a(!r),null==i||i(e)},u=l("tag",t),[d,h]=k(u),f=y()(u,{[`${u}-checkable`]:!0,[`${u}-checkable-checked`]:r},n,h);return d(o.createElement("span",Object.assign({},s,{className:f,onClick:c})))};var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};let L=(e,t)=>{var{prefixCls:n,className:r,rootClassName:a,style:i,children:s,icon:l,color:c,onClose:u,closeIcon:d,closable:h=!1}=e,f=_(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable"]);let{getPrefixCls:p,direction:v}=o.useContext(m.E_),[S,w]=o.useState(!0);o.useEffect(()=>{"visible"in f&&w(f.visible)},[f.visible]);let C=(0,$.o2)(c)||(0,$.yT)(c),D=Object.assign({backgroundColor:c&&!C?c:void 0},i),x=p("tag",n),[M,O]=k(x),j=y()(x,{[`${x}-${c}`]:C,[`${x}-has-color`]:c&&!C,[`${x}-hidden`]:!S,[`${x}-rtl`]:"rtl"===v},r,a,O),L=e=>{e.stopPropagation(),null==u||u(e),e.defaultPrevented||w(!1)},Z="function"==typeof f.onClick||s&&"a"===s.type,T=l||null,P=T?o.createElement(o.Fragment,null,T,o.createElement("span",null,s)):s,E=o.createElement("span",Object.assign({},f,{ref:t,className:j,style:D}),P,h?d?o.createElement("span",{className:`${x}-close-icon`,onClick:L},d):o.createElement(g.Z,{className:`${x}-close-icon`,onClick:L}):null);return M(Z?o.createElement(b.Z,null,E):E)},Z=o.forwardRef(L);Z.CheckableTag=j;var T=n(46409),P=n(71577),E=n(80882),N=n(19996),H=n(25675),I=n.n(H),A=n(37744),W=n(26743),z=n(75884),F=n(4480);let V=(0,F.cn)({key:"geoDataState",default:null}),Y=(0,F.cn)({key:"defaultValueState",default:null}),B=e=>{var t,i,l;let[c,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!0),[g,p]=(0,o.useState)([]),[y,m]=(0,o.useState)({LocateMeButtonLabel:"Locate Me",LocationText:"Location",LocationDropdown:"Choose your location"}),[$,b]=(0,F.FV)(V),[v,S]=(0,F.FV)(Y);(0,o.useEffect)(()=>(D(),window.addEventListener("resize",w),w(),()=>{window.removeEventListener("resize",w)}),[]);let w=()=>{u(window.innerWidth>864)},C=async(e,t)=>{let n=s.ZP.load("geoData");n?(p(e),h(!1),m(t),S(n.suburb+", "+n.state+", "+n.postcode)):(p(e),h(!1),m(t))},D=async()=>{let t=await e.languageHelper.translation("AddressDropdown"),r=await n.e(4503).then(n.t.bind(n,34503,19)),a=[];for(let e=0;e<r.length;e++){let t=r[e];t.value=t.postcode+"//"+t.suburb+"//"+t.latitude+"//"+t.longitude+"//"+t.state,t.label=t.suburb+", "+t.state+", "+t.postcode,a.push(t)}let o=await (0,z.b)();if(o&&o.emailVerified)try{let e=await (0,A.xK)("users/".concat(o.uid)),n=(0,W.w)(e.geoData);p(a),h(!1),m(t),S(n.suburb+", "+n.state+", "+n.postcode)}catch(e){console.error("Operation failed:",e),C(a,t)}else C(a,t)},x=t=>{let n=t.split("//");S({postcode:n[0],suburb:n[1],latitude:n[2],longitude:n[3],state:n[4]}),e.handleAddressCallBack(n)},M=()=>{e.handleLocateMeCallBack()};return(0,r.jsx)(f.Z,{style:{width:"100%",marginTop:c?"1%":"3%",marginBottom:c?"1%":"3%"},children:d?(0,r.jsx)(N.Z,{}):(0,r.jsxs)(f.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(a.Z,{span:4,children:(0,r.jsx)(Z,{style:{width:"98%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000000",backgroundColor:"#ffffff",borderRadius:"6px",fontSize:"smaller",fontWeight:"bold",height:"100%"},children:y.LocationText})}),(0,r.jsx)(a.Z,{span:18,style:{textAlign:"center"},children:(0,r.jsx)(T.Z,{suffixIcon:(0,r.jsx)(E.Z,{}),showSearch:!0,style:{width:"100%"},defaultValue:v,placeholder:"Search to Select",optionFilterProp:"children",filterOption:(e,n)=>(null!==(t=null==n?void 0:n.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase()),filterSort:(e,t)=>(null!==(i=null==e?void 0:e.label)&&void 0!==i?i:"").toLowerCase().localeCompare((null!==(l=null==t?void 0:t.label)&&void 0!==l?l:"").toLowerCase()),options:g,onChange:x.bind(void 0)})}),(0,r.jsx)(a.Z,{span:2,style:{textAlign:"center"},children:(0,r.jsx)(P.ZP,{style:{margin:"auto",width:"90%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},onClick:M.bind(void 0),children:c?(0,r.jsx)("p",{children:y.LocateMeButtonLabel}):(0,r.jsx)(I(),{src:"/USYD_Capstone_Project_CS01/icons/maps-and-flags.png",alt:"",width:15,height:15})})})]})})};var J=(0,u.withRouter)((0,d.O)(B)),U=n(40092),R=n(39960),K=n(75109),q=n(4175),G=n(93096),Q=n(56886);let X=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ee=e=>{let[t,n]=(0,F.FV)(Q.eY),{isPublicDisplay:l,publicDisplayGeoData:u,languageHelper:d,getHssDataCallBack:f}=e,[g,p]=(0,o.useState)(!1),[y,m]=(0,o.useState)(!1),[$,b]=(0,o.useState)([]),[v,S]=(0,o.useState)("Parramatta Westfield, NSW, 2150"),[w,C]=(0,o.useState)(0),[D,x]=(0,o.useState)([]),[M,k]=(0,o.useState)([]),[O,j]=(0,o.useState)("LineChart"),[_,L]=(0,o.useState)(0),[Z,T]=(0,o.useState)([]),[P,E]=(0,o.useState)([]),[H,I]=(0,o.useState)([]),[V,Y]=(0,o.useState)([]),[B,ee]=(0,o.useState)({}),[et,en]=(0,o.useState)({}),[er,ea]=(0,F.FV)(G._),eo=(0,q.Z)(d,"HomePage"),ei=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=c()().add(e,"day");return[t.day(),t.format("DD/MM")]},[]),es=(0,o.useCallback)(()=>{let e=[1,2,3].map(e=>{let[t,n]=ei(e);return{label:X[t],date:n}}),t=c()().hour();C(23==t?0:t),x(e)},[]),el=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(Object.keys(e).length<=0)return null;let t=await (0,K.ss)(e,w,eo);console.log("assdf",t);let{dataForPublicDisplay:n,currentRiskValue:r,data:a,maxLevelForecast:o,now:i,max:s,portialNow:c,portialMax:u}=t||{};l&&f({dataForPublicDisplay:n,hour:w});let{suburb:d,state:h,postcode:g}=e;S("".concat(d,", ").concat(h,", ").concat(g)),ee(e),L(r),b(a),k(o),E(s),T(i),I(c),Y(u),en(n)}catch(e){console.log("loadData err",e)}finally{p(!1)}},[w,eo,f,l]),ec=(0,o.useCallback)(()=>{let e=s.ZP.load("geoData");if(e){let{latitude:t,longitude:n}=e,r=(0,h.E)(t,n);ea({latitude:t,longitude:n,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:r})}else e={...er};el(e)},[]),eu=(0,o.useCallback)(async()=>{p(!0);try{let e=await (0,z.b)();if(e&&e.emailVerified)try{console.log("uuu",e);let t=await (0,A.xK)("users/".concat(e.uid)),n=(0,W.w)(t.geoData),r=(0,h.E)(n.latitude,n.longitude);ea({latitude:n.latitude,longitude:n.longitude,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:r}),await el(n)}catch(e){console.error("Get user geo data from firebase operation failed:",e),await ec()}else await ec()}catch(e){console.log("loadData err",e)}},[ec,el]);(0,o.useEffect)(()=>{es(),eu(),n(!1)},[t]);let ed=(0,o.useCallback)(async()=>{p(!0),m(!0),navigator.geolocation.getCurrentPosition(async e=>{let t=e.coords.latitude,n=e.coords.longitude,r=await (0,h.a)(t,n);if(r){let{postcode:e,suburb:a,state:o}=r,i={postcode:e,suburb:a,latitude:t,longitude:n,state:o},l=await (0,z.b)();S("".concat(a,", ").concat(o,", ").concat(e));let c=(0,h.E)(t,n);if(ea({latitude:t,longitude:n,suburb:a,postcode:e,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:c}),l&&l.emailVerified)try{await (0,A.pN)("users/".concat(l.uid),{geoData:i})}catch(e){s.ZP.save("geoData",JSON.stringify(i))}else s.ZP.save("geoData",JSON.stringify(i));eu()}else(0,R.Z)("error","Location Error","Unable to get your location.");p(!1),m(!1)})},[eu]),eh=(0,o.useCallback)((e,t,n,r)=>{let[a,o,i,s,l]=e||[];ea({latitude:i,longitude:s,suburb:o,postcode:a,hourly:"temperature_2m,relativehumidity_2m,cloudcover,windspeed_10m",timezone:(0,h.E)(i,s)}),eu()},[]),ef=(0,o.useCallback)(async e=>{let[t,n,r,a,o]=e||[],i={postcode:t,suburb:n,latitude:r,longitude:a,state:o},l=await (0,z.b)();if(l&&l.emailVerified)try{await (0,A.pN)("users/".concat(l.uid),{geoData:i})}catch(e){s.ZP.save("geoData",JSON.stringify(i))}else s.ZP.save("geoData",JSON.stringify(i));eh(e)},[]),eg=(0,o.useMemo)(()=>y||g?(0,r.jsx)(N.Z,{}):(0,r.jsx)(J,{handleLocateMeCallBack:ed,handleAddressCallBack:ef,defaultValue:v,geoData:B}),[y,B,g,v]);return(0,r.jsx)("div",{children:(0,r.jsx)(i.default,{children:(0,r.jsxs)(a.Z,{children:[l?null:eg,y||g?(0,r.jsx)(N.Z,{}):(0,r.jsx)(U.Z,{isPublicDisplay:l,maxLevelForecast:M,currentRiskValue:_,data:$,loading:g,forcasts:D,chartType:O,legendNow:Z,legendMax:P,portialLegendNow:H,portialLegendMax:V,dataForPublicDisplay:et})]})})})};var et=(0,u.withRouter)((0,d.O)(ee))}}]);